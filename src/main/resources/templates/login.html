<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head>
	<title>Fazer Login</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
		crossorigin="anonymous"></script>
	<link href="/css/login-style.css" rel="stylesheet">
	<script src="/scripts/login-script.js"></script>
</head>

<body>
	<div class="container-sm mt-4">
		<div class="row">
			<div class="col-md-5 p-0 side-background">
				<img src="/images/side-duo.jpg" class="w-100 h-100">
			</div>
			<div class="col-md-7 px-5">
				<div class="text-end p-3">
					Não possui uma conta? <a href="/register/new"
						class="text-decoration-underline text-dark">Cadastre-se</a>
				</div>

				<div class="p-5 text-center">
					<h4 class="fw-bold">Login</h4>
				</div>

				<form th:action="@{/login}" method="post"  onsubmit="return verifyInputs()" id="form-login">

					<div th:if="${param.logout}">
						<div class="alert alert-primary rounded-0 border-0 py-2 alert-dismissible fade show"
							role="alert">
							Deslogado com sucesso!
							<button type="button" class="btn-close p-2 mt-1" data-bs-dismiss="alert"
								aria-label="Close"></button>
						</div>
					</div>

					<div th:if="${param.error}">
						<div class="alert alert-danger rounded-0 border-0 py-2 alert-dismissible fade show"
							role="alert">
							<strong>Oops!</strong> Usuário ou senha incorreto(a)!
							<button type="button" class="btn-close p-2 mt-1" data-bs-dismiss="alert"
								aria-label="Close"></button>
						</div>
					</div>

					<div th:if="${registerAutoLoginFail}">
						<div class="alert alert-danger rounded-0 border-0 py-2 alert-dismissible fade show"
							role="alert">
							<span th:text="${registerAutoLoginFail}"></span>
							<button type="button" class="btn-close p-2 mt-1" data-bs-dismiss="alert"
								aria-label="Close"></button>
						</div>
					</div>

					<div>
						<label class="fw-bolder">Usuário:</label>
						<input type="text" name="username" class="form-control field rounded-1"
							placeholder="Nome de usuário" />
						<div class="invalid-feedback">
							Insira um nome de usuário!
						</div>
					</div>

					<div class="my-2">
						<label class="fw-bold"> Senha:</label>
						<input type="password" name="password" class="form-control field rounded-1"
							placeholder="Insira sua senha" />
						<div class="invalid-feedback">
							Insira uma senha!
						</div>

					</div>

					<div class="text-end ">
						<a href="/forgot-password" class="text-decoration-none text-dark">Esqueceu a senha?</a>
					</div>

					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

					<div>
						<input type="submit" value="Entrar"
							class="py-2 border-0 w-100 rounded-1 my-5 text-white fw-bold" />
					</div>


				</form>
			</div>
		</div>
	</div>

</body>

</html>